<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <title>Password Checker</title>
  <link rel="stylesheet" href="https://pyscript.net/2023.09.1/core.css">
  <script type="module" src="https://pyscript.net/2023.09.1/core.js"></script>
</head>
<body>
  <h2>Password Strength Checker</h2>
  <input id="pw" type="password" placeholder="Enter password">
  <button py-click="on_click">Check</button>
  <pre id="result"></pre>

  <py-script>
from pyscript import Element
import string

def has_triple(pw):
    return any(pw[i]==pw[i+1]==pw[i+2] for i in range(len(pw)-2))

COMMON = {"123456","qwerty","welcome","admin","tom's website"}

def check_password(pw):
    errors=[]
    if len(pw)<12: errors.append("Too short")
    if not any(c.isupper() for c in pw): errors.append("No uppercase")
    if not any(c.islower() for c in pw): errors.append("No lowercase")
    if not any(c.isdigit() for c in pw): errors.append("No number")
    if not any(c in string.punctuation for c in pw): errors.append("No special char")
    if "password" in pw.lower(): errors.append("Contains 'password'")
    if pw.lower() in COMMON: errors.append("Too common")
    if has_triple(pw): errors.append("Triple repeat")
    return "✅ All good!" if not errors else "❌ " + "\n- ".join(errors)

def on_click(evt):
    pw = Element("pw").element.value
    Element("result").element.innerText = check_password(pw)
  </py-script>
</body>
</html>
